M=Math;W=window;w=c.width=W.innerWidth;h=c.height=W.innerHeight;m=[[0.5,-0.5,R(),0.5,-0.4,-0.1],[0.8,R(),0.1,-0.5,R(),0.2]];n=[[[0,"[t*2.5,0,0]"],[0.25,"[1,(t-.25)*2.5,0]"],[0.5,"[1-((t-.5)*.4),1,0]"],[0.75,"[1,1,(t-.75)*2]"]],[[0,"[0,t*.5,0]"],[0.25,"[0,.5,(t-.25)*.1]"],[0.5,"[0,1-((t-.5)*.2),1]"],[0.75,"[(t-.75)*2,1,1]"]]];N=n[M.floor(R()*n.length)];H=Array(w*h);d=y=x=0;function R(){return M.random()}
function F(b){for(i=0;i<b;)g=m[M.floor(R()*m.length)],t=g[0]*x+g[1]*y+g[4],y=g[2]*x+g[3]*y+g[5],x=t,r2=x*x+y*y,t=x/r2,y/=r2,x=t,u=M.round(x*(w/2)+w/2,0),v=M.round(y*(h/2)+h/2,0),l=u*w+v,H[l]++,H[l]>d&&(d=H[l]),i++;D()}function D(){z=a.createImageData(w,h);for(i=0;i<w*h;){t=M.log(H[i])/M.log(d);if(0<t){for(j in N)t>N[j][0]&&(q=eval(N[j][1]));z.data[4*i]=255*q[0];z.data[4*i+1]=255*q[1];z.data[4*i+2]=255*q[2]}z.data[4*i+3]=255;i++}a.putImageData(z,0,0);W.setTimeout(F,10,5E4)}
for(var i=0;i<H.length;i++)H[i]=0;W.setTimeout(F,10,5E4);
